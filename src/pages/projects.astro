---
import PageLayout from "~/layouts/PageLayout.astro";
import ProjectSection from "~/components/ProjectSection.astro";

import { fetchUserRepos, fetchOrgRepos } from "~/lib/github";

const personalRepos = await fetchUserRepos("SerenModz21");
const kingsWorldRepos = await fetchOrgRepos("Kings-World");
const mixtapeRepos = await fetchOrgRepos("mixtape-bot");
---

<PageLayout title="Projects">
    <ProjectSection name="Personal" repos={personalRepos} />
    <ProjectSection name="Kings World" repos={kingsWorldRepos} />
    <ProjectSection
        name="Mixtape"
        repos={mixtapeRepos.filter((r) => ["deck.js", "rpc"].includes(r.name))}
    />
</PageLayout>
