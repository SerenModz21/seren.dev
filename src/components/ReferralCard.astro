---
import {
    Card,
    CardContent,
    CardDescription,
    CardHeader,
    CardTitle,
} from "./ui/card";
import { Button } from "./ui/button";
import { Image } from "astro:assets";

interface Props {
    url: string;
    name: string;
    description: string;
    image?: ImageMetadata;
}

const { url, name, description, image } = Astro.props;
const [company] = name.split(" - ");
---

<Card
    className="flex transform flex-col transition-all duration-300 ease-in-out hover:scale-[1.02] hover:drop-shadow-lg sm:flex-row"
>
    {
        image && (
            <Image
                src={image}
                alt={`${company} Logo`}
                height="60"
                width="60"
                class="ml-4 mt-4 object-contain sm:ml-8 sm:mt-0"
            />
        )
    }

    <div class="w-full flex-col">
        <CardHeader>
            <CardTitle>{name}</CardTitle>
        </CardHeader>
        <CardContent>
            <CardDescription>{description}</CardDescription>
            <Button className="mt-4" variant="outline">
                <a href={url} target="_blank" rel="noopener noreferrer"
                    >View Referral</a
                >
            </Button>
        </CardContent>
    </div>
</Card>
